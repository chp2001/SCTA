TAunitkeygroups = {
    ["Experimental"]= {
        "corkrog",
        "armdrake",
        "corbuzz",
        "armvulc",
    },
    ["Quantum_Gateway"]= {
        "armgant",
        "corgant",
    },
    ["Land_Factory"]= {
        "armlab",
        "armvp",
        "corvp",
        "corlab",
    },    
    ["Air_Factory"]= {
        "armap",
        "corap",
    },
    ["Naval_Factory"]= {
        "armsy",
        "corsy",
    },
    ["Power_Generator"]= {
        "armfus",
        "armsolar",
        "armwin",
        "corfus",
        "corsolar",
        "corwin",
    },
    ["Hydrocarbon_Power_Plant"]= {
        "armgeo",
        "armtide",
        "armckfus",
        "corgeo",
        "cortide", 
        "corckfus",
    },    
    ["Mass_Extractor"]= {
        "armmoho",
        "cormoho",
        "armmex",
        "cormex",
        "armmass",
        "cormass",
    },
    ["Mass_Fabricator"]= {
        "armmakr",
        "armmmkr",
        "cormakr",
        "cormmkr", 
    },
    ["Energy_Storage"]= {
        "armestor", 
        "corestor",
    },
    ["Mass_Storage"]= {
        "armmstor",
        "cormstor",
    },
    ["Point_Defense"]= {
        "armllt",
        "corllt",
        "armdrag",
        "cordrag",
    },
    ["Anti_Air"]= {
        "armrl",
        "corrl",
        "armflak",
        "corflak",
    },
    ["Torpedo_Launcher"]= {
        "armatl",
        "armtl",
        "armanni",
        "coratl",
        "cortl",
        "corplas",
        "cordoom",
    },
    ["Heavy_Artillery_Installation"]= {
        "armbrtha",
        "corint",
    },
    ["Artillery_Installation"]= {
        "corpun",
        "armguard",
        "corvipe",
    },
    ["Strategic_Missile_Launcher"]= {
        "armsilo",
        "armemp",
        "corsilo",
        "cortron",
    },
    ["Radar_System"]= {
        "armrad",
        "armarad",
        "armtarg",
        "corrad",
        "corarad",
        "cortarg",
    },
    ["Sonar_System"]= {
        "armsonar",
        "corsonar",
    },
    ["Strategic_Missile_Defense"]= {
        "armamd",
        "corfmd",
    },
    ["Tactical_Missile_Defense"]= {
        "armscab",
        "cormabm",
    },
    ["Shield_Generator"]= {
        "armamb",
        "cortoast",
    },
    ["T2_Support_Land_Factory"]= {
        "armalab",
        "armavp",
        "coravp",
        "coralab",
    },
    ["T2_Support_Air_Factory"]= {
        "armaap",
        "coraap",
    },
    ["T2_Support_Naval_Factory"]= {
        "armasy",
        "corasy",
    },
    ["T3_Support_Land_Factory"] = {
        "armhp",
        "corhp",
    },
    ["T3_Support_Air_Factory"] = {
        "armplat",
        "corplat",
    },
    ["Air_Staging"]= {
        "armasp",
        "corasp",
    },
    ["Engineering_Station"]= {
        "armpnix",
        "corhurc",
    },
    ["Sonar_Platform"]= {
        "armason",
        "corason",
    },    
    ["Heavy_Point_Defense"]= {
        "armhlt",
        "armfort",
        "corfhlt",
        "corfort",
    },
    ["T1_Air_Scout"]= {
        "armpeep",
        "corfink",
    },
    ["T2_Mobile_Stealth_Field_System"]= {
        "armaser",
        "armjam",
        "armca",
        "coreter",
        "corspec",
        "corca",
    },
    ["T2_Gatling_Bot"]= {
        "corpyro",
        "armlatnk",
        "armfido",
    },
    ["T1_Interceptor"]= {
        "armfig",
        "corveng",
    },
    ["T1_Attack_Bomber"]= {
        "armthund",
        "corshad",
    },
    ["T1_Light_Air_Transport"]= {
        "armatlas",
        "corvalk",
    },
    ["T2_Gunship"]= {
        "armbrawl",
        "corape",
    },
    ["T2_Torpedo_Bomber"]= {
        "armlance",
        "cortitan",
    },
    ["T3_Spy_Plane"]= {
        "armsehak",
        "corhunt",
    },
    ["T3_Air_Superiority_Fighter"]= {
        "armsfig",
        "corsfig",
    },
    ["T2_Combat_Fighter"] = {
        "armhawk",
        "corvamp",
    },
    ["T3_Torpedo_Bomber"] = {
        "armseap",
        "corseap",
    },
    ["T1_Attack_Boat"] = {
        "armpt",
        "corpt",
    },
    ["T1_Land_Scout"]= {
        "armfav",
        "armflea",
        "armsh",
        "corfav",
        "corsh", 
        "corvoyr",
    },
    ["T1_Mobile_Light_Artillery"]= {
        "armham",
        "corthud",
        "corlevlr",
    },
    ["T1_Mobile_Anti_Air_Gun"]= {
        "armsam",
        "armjeth",
        "armah",
        "corah",
        "cormist",
        "corcrash",
    },
    ["Builders"] = {
        "armdecom",
        "cordecom",
    },
    ["T1_Engineer"]= {
        "armck",
        "armcv",
        "corck",
        "corcv",
    },
    ["T1_Light_Assault_Bot"]= {
        "armpw",
        "corak",
        "armflash",
        "corgator",
    },
    ["T2_Mobile_Missile_Launcher"]= {
        "armmerl",
        "corvroc",
        "armhrk",
        "corhrk",
        "armawac",
        "corawac", 
    },
    ["T2_Counter_Intelligence_Boat"] = {
        "armsjam",
        "corsjam",
    },
    ["T1_Tank"]= {
        "armstump",
        "corraid",
    },
    ["T2_Heavy_Tank"]= {
        "armbull",
        "armzeus",
        "correap",
        "corcan",
    },
    ["T2_Mobile_AA_Flak_Artillery"]= {
        "armyork",
        "armspdaa",
        "corsent",
        "corsling",
    },
    ["T2_Field_Engineer"]= {
        "armfark", 
        "armcs",
        "cornecro",
        "corcs",
    },
    ["T2_Engineer"]= {
        "armaca",
        "armack",
        "armacsub",
        "armacv",
        "coraca",
        "corack",
        "coracv",
        "coracsub",
    },
    ["T3_Engineer"] = {
        "armcsa",
        "armch",
        "corcsa",
        "corch",
    },
    ["T1_Frigate"]= {
        "armroy",
        "corroy",
    },
    ["T2_Destroyer"]= {
        "armcrus",
        "corcrus",
    },
    ["T3_Missile_Ship"] = {
        "armmship",
        "cormship",
    },
    ["T2_Cruiser"]= {
        "armaas",
        "corarch",
    },
    ["T1_Attack_Submarine"]= {
        "armsub",
        "corsub",
    },
    ["T2_Amphibious_Tank"]= {
        "armcroc",
        "corseal",
        "armamph",
        "coramph",
    },
    ["T1_Assault_Bot"]= {
        "armwar",
        "corstorm",
    },
    ["T2_Submarine_Hunter"]= {
        "armsubk",
        "corshark",
    },
    ["T3_Battleship"]= {
        "armbats",
        "corbats",
    },
    ["T2_Mobile_Bomb"]= {
        "armvader",
        "corroach",
    },
    ["T3_Mobile_Heavy_Artillery"] = {
        "armmart",
        "cormart",
        "cormort",
    },
    ["T3_Aircraft_Carrier"] = {
        "armcarry",
        "corcarry",
    },
    ["T3_Sniper_Bot"] = {
        "armmav",
        "armmanni",
    },    
    ["T3_Siege_Assault_Bot"] = {
        "corsumo",
    },
    ["T3_Armored_Assault_Bot"] = {
        "armanac",
        "corsnap",
    },
    ["T3_Mobile_Missile_Platform"] = {
        "armmh",
        "cormh",
    },
    ["T3_Mobile_AA"] = {
        "armsnipe",
        "armah",
        "corah",
    },
}

--since we are merging unordered tables that contain ordered tables, we need to merge them manually instead of table.merged or whatever
function MergeTables(unitkeygroups, TAunitkeygroups)
    local newKeyGroups = table.copy(TAunitkeygroups)
    local newTable = {}
    for k,v in unitkeygroups do
        if TAunitkeygroups[k] then
            newTable[k] = table.cat(unitkeygroups[k],TAunitkeygroups[k])
            newKeyGroups[k] = nil
        else
            newTable[k] = unitkeygroups[k]
        end
    end
    
    for k,v in newKeyGroups do
        if not newTable[k] then
            newTable[k] = TAunitkeygroups[k]
        end
    end
    return newTable
end

unitkeygroups = MergeTables(unitkeygroups, TAunitkeygroups)